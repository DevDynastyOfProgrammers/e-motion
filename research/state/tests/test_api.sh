#!/bin/bash

# Simple API Test Script - 20 requests to emotion server

API_URL="http://localhost:8000/predict"

echo "Testing Emotion API with 20 requests..."
echo "========================================"

# 20 different emotional vectors
vectors=(
    '[0.85, 0.05, 0.10, 0.60, 0.15, 0.10]'
    '[0.78, 0.45, 0.15, 0.10, 0.20, 0.10]'
    '[0.65, 0.10, 0.50, 0.05, 0.15, 0.20]'
    '[0.45, 0.08, 0.12, 0.05, 0.10, 0.65]'
    '[0.70, 0.20, 0.20, 0.20, 0.20, 0.20]'
    '[0.60, 0.10, 0.10, 0.10, 0.50, 0.20]'
    '[0.55, 0.60, 0.10, 0.05, 0.15, 0.10]'
    '[0.50, 0.15, 0.35, 0.05, 0.10, 0.35]'
    '[0.90, 0.02, 0.03, 0.70, 0.20, 0.05]'
    '[0.75, 0.25, 0.25, 0.15, 0.20, 0.15]'
    '[0.35, 0.25, 0.25, 0.05, 0.10, 0.35]'
    '[0.80, 0.08, 0.07, 0.15, 0.55, 0.15]'
    '[0.60, 0.10, 0.55, 0.05, 0.15, 0.15]'
    '[0.82, 0.40, 0.15, 0.10, 0.20, 0.15]'
    '[0.68, 0.08, 0.09, 0.35, 0.35, 0.13]'
    '[0.52, 0.12, 0.25, 0.08, 0.15, 0.40]'
    '[0.88, 0.18, 0.18, 0.22, 0.22, 0.20]'
    '[0.25, 0.19, 0.20, 0.20, 0.20, 0.21]'
    '[0.70, 0.30, 0.25, 0.15, 0.15, 0.15]'
    '[0.95, 0.01, 0.01, 0.80, 0.15, 0.03]'
)

for i in "${!vectors[@]}"; do
    echo "Request $((i+1)): ${vectors[i]}"
    response=$(curl -s -X POST "$API_URL" \
        -H "Content-Type: application/json" \
        -d "{\"emotions\": ${vectors[i]}}")
    echo "Response: $response"
    echo "---"
done

echo "Done! 20 requests sent."